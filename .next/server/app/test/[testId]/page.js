(()=>{var e={};e.id=166,e.ids=[166],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},83826:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o}),r(44893),r(74986),r(35866);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),l=r(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o=["",{children:["test",{children:["[testId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,44893)),"/Users/yash/DevProjects/fullStack/test.ai/src/app/test/[testId]/page.jsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,74986)),"/Users/yash/DevProjects/fullStack/test.ai/src/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/yash/DevProjects/fullStack/test.ai/src/app/test/[testId]/page.jsx"],u="/test/[testId]/page",f={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/test/[testId]/page",pathname:"/test/[testId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},82422:(e,t,r)=>{let s={"1b7dbd0aff498d2f860eac667d974c8b5bc745ce":()=>Promise.resolve().then(r.bind(r,13818)).then(e=>e.$$ACTION_1),"2b26542d218fc73998a86464cad6afb0588db3b0":()=>Promise.resolve().then(r.bind(r,13818)).then(e=>e.getAllTests),"2f6c76f24d5939aee4e2efac0f9d592f7739abcd":()=>Promise.resolve().then(r.bind(r,13818)).then(e=>e.createTest),"9d6f14d8821bab9b959e840f793b10a07be88c0a":()=>Promise.resolve().then(r.bind(r,13818)).then(e=>e.getUserTests),a18f3caa8936c15bf195e1c37d02fef5e0a23a51:()=>Promise.resolve().then(r.bind(r,13818)).then(e=>e.getTestStats),b86ecc6d5690362205972786256030e39b40b4c7:()=>Promise.resolve().then(r.bind(r,13818)).then(e=>e.submitTest),cec6511c6012591018a8abb38c5e0e8ab8320ac2:()=>Promise.resolve().then(r.bind(r,13818)).then(e=>e.getTestById),f223bb2d09d305c1f7367d1193d9f6e89374457f:()=>Promise.resolve().then(r.bind(r,13818)).then(e=>e.$$ACTION_0),f2a94d884370614724e0162983f4f8332313e4e4:()=>Promise.resolve().then(r.bind(r,13818)).then(e=>e.getTestResult)};async function a(e,...t){return(await s[e]()).apply(null,t)}e.exports={"1b7dbd0aff498d2f860eac667d974c8b5bc745ce":a.bind(null,"1b7dbd0aff498d2f860eac667d974c8b5bc745ce"),"2b26542d218fc73998a86464cad6afb0588db3b0":a.bind(null,"2b26542d218fc73998a86464cad6afb0588db3b0"),"2f6c76f24d5939aee4e2efac0f9d592f7739abcd":a.bind(null,"2f6c76f24d5939aee4e2efac0f9d592f7739abcd"),"9d6f14d8821bab9b959e840f793b10a07be88c0a":a.bind(null,"9d6f14d8821bab9b959e840f793b10a07be88c0a"),a18f3caa8936c15bf195e1c37d02fef5e0a23a51:a.bind(null,"a18f3caa8936c15bf195e1c37d02fef5e0a23a51"),b86ecc6d5690362205972786256030e39b40b4c7:a.bind(null,"b86ecc6d5690362205972786256030e39b40b4c7"),cec6511c6012591018a8abb38c5e0e8ab8320ac2:a.bind(null,"cec6511c6012591018a8abb38c5e0e8ab8320ac2"),f223bb2d09d305c1f7367d1193d9f6e89374457f:a.bind(null,"f223bb2d09d305c1f7367d1193d9f6e89374457f"),f2a94d884370614724e0162983f4f8332313e4e4:a.bind(null,"f2a94d884370614724e0162983f4f8332313e4e4")}},59373:(e,t,r)=>{Promise.resolve().then(r.bind(r,62778))},77506:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},35047:(e,t,r)=>{"use strict";var s=r(77389);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},62778:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>et});var s=r(10326),a=r(17577),n=r(77109),i=r(35047),l=r(7833),d=r(76812),o=r(82561),c=r(48051),u=r(93095),f=r(45226),p=r(15594),m=r(52067),h=r(17124),b=r(2566),x=r(9815),v="Radio",[g,y]=(0,u.b)(v),[j,w]=g(v),k=a.forwardRef((e,t)=>{let{__scopeRadio:r,name:n,checked:i=!1,required:l,disabled:d,value:u="on",onCheck:p,...m}=e,[h,b]=a.useState(null),x=(0,c.e)(t,e=>b(e)),v=a.useRef(!1),g=!h||!!h.closest("form");return(0,s.jsxs)(j,{scope:r,checked:i,disabled:d,children:[(0,s.jsx)(f.WV.button,{type:"button",role:"radio","aria-checked":i,"data-state":E(i),"data-disabled":d?"":void 0,disabled:d,value:u,...m,ref:x,onClick:(0,o.M)(e.onClick,e=>{i||p?.(),g&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),g&&(0,s.jsx)(R,{control:h,bubbles:!v.current,name:n,value:u,checked:i,required:l,disabled:d,style:{transform:"translateX(-100%)"}})]})});k.displayName=v;var P="RadioIndicator",N=a.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:a,...n}=e,i=w(P,r);return(0,s.jsx)(x.z,{present:a||i.checked,children:(0,s.jsx)(f.WV.span,{"data-state":E(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})})});N.displayName=P;var R=e=>{let{control:t,checked:r,bubbles:n=!0,...i}=e,l=a.useRef(null),d=function(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r),o=(0,b.t)(t);return a.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==r&&t){let s=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(s)}},[d,r,n]),(0,s.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function E(e){return e?"checked":"unchecked"}var C=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_="RadioGroup",[M,S]=(0,u.b)(_,[p.Pc,y]),T=(0,p.Pc)(),q=y(),[I,L]=M(_),$=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:a,defaultValue:n,value:i,required:l=!1,disabled:d=!1,orientation:o,dir:c,loop:u=!0,onValueChange:b,...x}=e,v=T(r),g=(0,h.gm)(c),[y,j]=(0,m.T)({prop:i,defaultProp:n,onChange:b});return(0,s.jsx)(I,{scope:r,name:a,required:l,disabled:d,value:y,onValueChange:j,children:(0,s.jsx)(p.fC,{asChild:!0,...v,orientation:o,dir:g,loop:u,children:(0,s.jsx)(f.WV.div,{role:"radiogroup","aria-required":l,"aria-orientation":o,"data-disabled":d?"":void 0,dir:g,...x,ref:t})})})});$.displayName=_;var A="RadioGroupItem",D=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:n,...i}=e,l=L(A,r),d=l.disabled||n,u=T(r),f=q(r),m=a.useRef(null),h=(0,c.e)(t,m),b=l.value===i.value,x=a.useRef(!1);return a.useEffect(()=>{let e=e=>{C.includes(e.key)&&(x.current=!0)},t=()=>x.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,s.jsx)(p.ck,{asChild:!0,...u,focusable:!d,active:b,children:(0,s.jsx)(k,{disabled:d,required:l.required,checked:b,...f,...i,name:l.name,ref:h,onCheck:()=>l.onValueChange(i.value),onKeyDown:(0,o.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,o.M)(i.onFocus,()=>{x.current&&m.current?.click()})})})});D.displayName=A;var z=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...a}=e,n=q(r);return(0,s.jsx)(N,{...n,...a,ref:t})});z.displayName="RadioGroupIndicator";var Z=r(91175);let G=a.forwardRef(({className:e,...t},r)=>s.jsx($,{className:(0,Z.cn)("grid gap-2",e),...t,ref:r}));G.displayName=$.displayName;let U=a.forwardRef(({className:e,...t},r)=>s.jsx(D,{ref:r,className:(0,Z.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(z,{className:"flex items-center justify-center",children:s.jsx(d.nQG,{className:"h-3.5 w-3.5 fill-primary"})})}));U.displayName=D.displayName;var V=r(75459);let F=({question:e,index:t,onChange:r,userAnswer:a})=>(0,s.jsxs)("div",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white shadow-md rounded-lg p-6 mb-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Question ",t+1]}),s.jsx("p",{className:"mb-4",children:e.text}),s.jsx(G,{onValueChange:e=>r(e),value:a,className:"space-y-2",children:e.options.map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(U,{value:e,id:`q${t}-option${r}`,className:"mr-2"}),s.jsx(V._,{htmlFor:`q${t}-option${r}`,children:e})]},r))})]}),O=({timeLimit:e})=>{let t=60*e,[r,n]=(0,a.useState)(t);(0,a.useEffect)(()=>{let e=setInterval(()=>{n(e=>e>0?e-1:0)},1e3);return()=>clearInterval(e)},[]);let i=r/t*100;return(0,s.jsxs)("div",{className:`fixed top-4 bg-white text-black dark:bg-black dark:text-white dark:border right-4 p-2 rounded shadow-lg text-lg ${i<=10?"bg-red-100 text-red-600":"bg-gray-100 mt-16"}`,children:["Time Left: ",(e=>{let t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`})(r)]})};var W=r(61561),B=r(40381),Q=r(77506),H=r(65482),X=r(88129);let K=({className:e})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:(0,Z.cn)("w-6 h-6",e,"text-gray-900 dark:text-gray-100"),children:s.jsx("path",{d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Y=({className:e})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:(0,Z.cn)("w-6 h-6",e,"text-gray-900 dark:text-gray-100"),children:s.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"})}),J=({loadingStates:e,value:t=0})=>s.jsx("div",{className:"flex relative justify-start max-w-xl mx-auto flex-col mt-40",children:e.map((e,r)=>{let a=Math.abs(r-t);return(0,s.jsxs)(H.E.div,{className:"text-left flex gap-2 mb-4",initial:{opacity:0,y:-(40*t)},animate:{opacity:Math.max(1-.2*a,0),y:-(40*t)},transition:{duration:.5},children:[(0,s.jsxs)("div",{children:[r>t&&s.jsx(K,{className:"text-gray-900 dark:text-gray-100"}),r<=t&&s.jsx(Y,{className:(0,Z.cn)("text-gray-900 dark:text-gray-100",t===r&&"text-black dark:text-white opacity-100")})]}),s.jsx("span",{className:(0,Z.cn)("text-gray-900 dark:text-gray-100",t===r&&"text-black dark:text-lime-500 opacity-100"),children:e.text})]},r)})}),ee=({loadingStates:e,loading:t,duration:r=2e3,loop:n=!0})=>{let[i,l]=(0,a.useState)(0);return(0,a.useEffect)(()=>{if(!t){l(0);return}let s=setTimeout(()=>{l(t=>n?t===e.length-1?0:t+1:Math.min(t+1,e.length-1))},r);return()=>clearTimeout(s)},[i,t,n,e.length,r]),s.jsx(X.M,{mode:"wait",children:t&&(0,s.jsxs)(H.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full h-full fixed inset-0 z-[100] flex items-center justify-center backdrop-blur-2xl",children:[s.jsx("div",{className:"h-96 relative",children:s.jsx(J,{value:i,loadingStates:e})}),s.jsx("div",{className:"bg-gradient-to-t inset-x-0 z-20 bottom-0 bg-white dark:bg-black h-full absolute [mask-image:radial-gradient(900px_at_center,transparent_30%,white)]"})]})})};function et({params:e}){let{testId:t}=e,{data:r,status:d}=(0,n.useSession)(),o=(0,i.useRouter)(),[c,u]=(0,a.useState)(null),[f,p]=(0,a.useState)({}),[m,h]=(0,a.useState)(0),[b,x]=(0,a.useState)(!1),v=(e,t)=>{p(r=>({...r,[e]:t}))},g=async()=>{if(!r||!r.user){B.ZP.error("Please log in to submit the test");return}if(c.questions.filter(e=>!f[e._id]).length>0){B.ZP.error("You must answer all questions");return}x(!0);let e=await (0,l.EF)(t,f,r.user.id);x(!1),e.success?(B.ZP.success("Test submitted successfully"),o.push(`/test-result/${e.resultId}`)):(B.ZP.error(e.error||"Failed to submit test"),console.error("Submit error:",e.error))};if("loading"===d||!c)return s.jsx("div",{children:s.jsx(Q.Z,{className:"h-8 w-8 animate-spin"})});if("unauthenticated"===d)return null;let y=c.questions[m],j=m===c.questions.length-1;return(0,s.jsxs)("div",{className:"container mx-auto max-w-3xl p-6",children:[s.jsx(O,{timeLimit:c.timeLimit,onTimeUp:()=>{B.ZP.error("Time's up! Submitting your test."),g()}}),(0,s.jsxs)("div",{className:"px-4",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:c.title}),s.jsx("p",{className:"mb-4",children:c.description}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("strong",{children:"Difficulty:"})," ",c.difficulty]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("strong",{children:"Time Limit:"})," ",c.timeLimit," minutes"]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("strong",{children:"Tags:"})," ",c.tags.join(", ")]})]}),s.jsx("div",{className:"space-y-8",children:s.jsx(F,{question:y,index:m,onChange:e=>v(y._id,e),userAnswer:f[y._id]},y._id)}),(0,s.jsxs)("div",{className:"mt-8 flex justify-between",children:[m>0&&s.jsx(W.z,{onClick:()=>{m>0&&h(m-1)},className:"w-1/2 mr-2",children:"Previous Question"}),j?s.jsx(W.z,{onClick:g,disabled:b,className:"w-1/2",children:b?"Submitting...":"Submit Test"}):s.jsx(W.z,{onClick:()=>{m<c.questions.length-1&&h(m+1)},className:"w-1/2",children:"Next Question"})]}),s.jsx(ee,{loading:b,loadingStates:[{text:"Preparing your test submission..."},{text:"Validating your answers..."},{text:"Submitting your test..."},{text:"Test submitted successfully!"}],duration:2e3,loop:!1})]})}},75459:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var s=r(10326),a=r(17577),n=r(45226),i=a.forwardRef((e,t)=>(0,s.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=r(91175);let d=a.forwardRef(({className:e,...t},r)=>s.jsx(i,{ref:r,className:(0,l.cn)("text-sm font-medium text-black dark:text-white leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));d.displayName=i.displayName},44893:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/yash/DevProjects/fullStack/test.ai/src/app/test/[testId]/page.jsx#default`)},88129:(e,t,r)=>{"use strict";r.d(t,{M:()=>x});var s=r(10326),a=r(17577),n=r(40295),i=r(74749),l=r(73965);class d extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function o({children:e,isPresent:t}){let r=(0,a.useId)(),n=(0,a.useRef)(null),i=(0,a.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,a.useContext)(l._);return(0,a.useInsertionEffect)(()=>{let{width:e,height:s,top:a,left:l}=i.current;if(t||!n.current||!e||!s)return;n.current.dataset.motionPopId=r;let d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),(0,s.jsx)(d,{isPresent:t,childRef:n,sizeRef:i,children:a.cloneElement(e,{ref:n})})}let c=({children:e,initial:t,isPresent:r,onExitComplete:l,custom:d,presenceAffectsLayout:c,mode:f})=>{let p=(0,i.h)(u),m=(0,a.useId)(),h=(0,a.useMemo)(()=>({id:m,initial:t,isPresent:r,custom:d,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;l&&l()},register:e=>(p.set(e,!1),()=>p.delete(e))}),c?[Math.random()]:[r]);return(0,a.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[r]),a.useEffect(()=>{r||p.size||!l||l()},[r]),"popLayout"===f&&(e=(0,s.jsx)(o,{isPresent:r,children:e})),(0,s.jsx)(n.O.Provider,{value:h,children:e})};function u(){return new Map}var f=r(40339),p=r(24673);let m=e=>e.key||"";function h(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}var b=r(42482);let x=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:l,presenceAffectsLayout:d=!0,mode:o="sync"})=>{(0,p.k)(!t,"Replace exitBeforeEnter with mode='wait'");let u=(0,a.useMemo)(()=>h(e),[e]),x=u.map(m),v=(0,a.useRef)(!0),g=(0,a.useRef)(u),y=(0,i.h)(()=>new Map),[j,w]=(0,a.useState)(u),[k,P]=(0,a.useState)(u);(0,b.L)(()=>{v.current=!1,g.current=u;for(let e=0;e<k.length;e++){let t=m(k[e]);x.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[k,x.length,x.join("-")]);let N=[];if(u!==j){let e=[...u];for(let t=0;t<k.length;t++){let r=k[t],s=m(r);x.includes(s)||(e.splice(t,0,r),N.push(r))}"wait"===o&&N.length&&(e=N),P(h(e)),w(u);return}let{forceRender:R}=(0,a.useContext)(f.p);return(0,s.jsx)(s.Fragment,{children:k.map(e=>{let t=m(e),a=u===k||x.includes(t);return(0,s.jsx)(c,{isPresent:a,initial:(!v.current||!!n)&&void 0,custom:a?void 0:r,presenceAffectsLayout:d,mode:o,onExitComplete:a?void 0:()=>{if(!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),P(g.current),l&&l())},children:e},t)})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,538,621,482,215,714],()=>r(83826));module.exports=s})();