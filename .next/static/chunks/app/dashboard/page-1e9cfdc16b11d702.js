(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2129:function(e,t,s){Promise.resolve().then(s.bind(s,1783))},1765:function(e,t,s){"use strict";s.d(t,{$2:function(){return l},EF:function(){return n},HW:function(){return c},OB:function(){return d},P7:function(){return i},r7:function(){return o},zQ:function(){return a}}),s(4590);var r=s(8064),a=(0,r.$)("a18f3caa8936c15bf195e1c37d02fef5e0a23a51"),l=(0,r.$)("2f6c76f24d5939aee4e2efac0f9d592f7739abcd"),d=(0,r.$)("cec6511c6012591018a8abb38c5e0e8ab8320ac2"),n=(0,r.$)("b86ecc6d5690362205972786256030e39b40b4c7"),i=(0,r.$)("f2a94d884370614724e0162983f4f8332313e4e4"),c=(0,r.$)("9d6f14d8821bab9b959e840f793b10a07be88c0a"),o=(0,r.$)("2b26542d218fc73998a86464cad6afb0588db3b0")},1783:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var r=s(7437),a=s(2265),l=s(1765),d=s(998);s(4590);var n=s(8064),i=(0,n.$)("4e5447d84eb83508a17be61864f36c7d3250b701");(0,n.$)("019690351ee4f9eacf8614ab7178669a14008329"),(0,n.$)("bf8e49a0c6f4e59506ee7899240ab925c1be7942");var c=s(7138),o=s(8214);let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...a})});x.displayName="Card";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",s),...a})});m.displayName="CardHeader";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,o.cn)("font-semibold leading-none tracking-tight",s),...a})});u.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",s),...a})}).displayName="CardDescription";let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",s),...a})});h.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter";var f=e=>{let{userDetails:t}=e;return(0,r.jsxs)(x,{className:"shadow-lg w-full dark:border-0 dark:bg-zinc-900 text-center",children:[(0,r.jsx)(m,{children:(0,r.jsx)(u,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t?"".concat(t.name,"'s Dashboard"):"Loading..."})}),(0,r.jsxs)(h,{children:[(0,r.jsx)("p",{className:"text-lg font-medium dark:text-white",children:(null==t?void 0:t.name)||"Loading..."}),(0,r.jsx)("p",{className:"dark:text-gray-300",children:(null==t?void 0:t.email)||"Loading..."}),(0,r.jsx)("p",{className:"dark:text-gray-300",children:(null==t?void 0:t.role)||"Loading..."})]})]})},g=e=>{let{testSummary:t}=e;return(0,r.jsxs)(x,{className:"shadow-lg dark:border-0 dark:bg-zinc-900 text-center",children:[(0,r.jsx)(m,{children:(0,r.jsx)(u,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Summary"})}),(0,r.jsxs)(h,{className:"grid grid-cols-2 text-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex justify-center items-center mx-auto w-24 h-24 bg-gray-200 dark:bg-zinc-700 rounded-full",children:(0,r.jsx)("p",{className:"text-2xl font-medium dark:text-white",children:t.totalTests})}),(0,r.jsx)("p",{className:"text-lg font-medium dark:text-white mt-2",children:"Total Tests Taken"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex justify-center items-center mx-auto w-24 h-24 bg-gray-200 dark:bg-zinc-700 rounded-full",children:(0,r.jsxs)("p",{className:"text-2xl font-medium dark:text-white",children:[t.avgAccuracy,"%"]})}),(0,r.jsx)("p",{className:"text-lg font-medium dark:text-white mt-2",children:"Average Accuracy"})]})]})]})},b=e=>{let{testStats:t}=e;return(0,r.jsxs)(x,{className:"shadow-lg dark:border-0 dark:bg-zinc-900 text-center",children:[(0,r.jsx)(m,{children:(0,r.jsx)(u,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Test Stats"})}),(0,r.jsxs)(h,{className:"grid grid-cols-3 text-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex justify-center items-center mx-auto w-24 h-24 bg-gray-200 dark:bg-zinc-700 rounded-full",children:(0,r.jsx)("p",{className:"text-2xl font-medium dark:text-white",children:t.easy})}),(0,r.jsx)("p",{className:"text-lg font-medium dark:text-white mt-2",children:"Easy Tests"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex justify-center items-center mx-auto w-24 h-24 bg-gray-200 dark:bg-zinc-700 rounded-full",children:(0,r.jsx)("p",{className:"text-2xl font-medium dark:text-white",children:t.medium})}),(0,r.jsx)("p",{className:"text-lg font-medium dark:text-white mt-2",children:"Medium Tests"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex justify-center items-center mx-auto w-24 h-24 bg-gray-200 dark:bg-zinc-700 rounded-full",children:(0,r.jsx)("p",{className:"text-2xl font-medium dark:text-white",children:t.hard})}),(0,r.jsx)("p",{className:"text-lg font-medium dark:text-white mt-2",children:"Hard Tests"})]})]})]})},j=e=>{let{badges:t}=e;return(0,r.jsxs)(x,{className:"shadow-lg dark:border-0 dark:bg-zinc-900 text-center",children:[(0,r.jsx)(m,{children:(0,r.jsx)(u,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Badges"})}),(0,r.jsx)(h,{className:"flex justify-center space-x-2",children:t.length>0?t.map((e,t)=>(0,r.jsx)("img",{src:e,alt:"Badge ".concat(t+1),className:"w-12 h-12"},t)):(0,r.jsx)("p",{className:"dark:text-white",children:"No badges earned yet."})})]})},p=s(7346),N=s(5211),w=s(3274);N.kL.register(N.uw,N.f$,N.od,N.jn,N.Dx,N.u,N.De);var y=e=>{let{loading:t,chartData:s,chartOptions:a}=e;return(0,r.jsxs)(x,{className:"mb-6 shadow-lg",children:[(0,r.jsx)(m,{children:(0,r.jsx)(u,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Test Scores Over Time"})}),(0,r.jsx)(h,{children:t?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(w.Z,{className:"h-8 w-8 animate-spin"})}):(0,r.jsx)(p.x1,{data:s,options:a})})]})},v=s(2200),k=e=>{let{test:t,onClick:s}=e;return(0,r.jsxs)(x,{className:"hover:shadow-lg dark:bg-zinc-900  dark:border-0 transition-shadow duration-300",children:[(0,r.jsx)(m,{children:(0,r.jsx)(u,{children:t.title})}),(0,r.jsxs)(h,{children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-2",children:["Date: ",new Date(t.date).toLocaleDateString()]}),(0,r.jsxs)("p",{className:"text-lg font-semibold mb-4",children:["Score: ",t.score,"%"]}),(0,r.jsx)(v.z,{onClick:s,className:"w-full",children:"View Details"})]})]})},C=e=>{let{test:t,onClose:s}=e;return(0,r.jsxs)("div",{className:"space-y-4 p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold dark:text-white",children:t.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Date: ",new Date(t.date).toLocaleDateString()]}),(0,r.jsxs)("p",{className:"text-lg font-semibold dark:text-white",children:["Score: ",t.score,"%"]}),(0,r.jsxs)("p",{className:"dark:text-white",children:["Duration: ",t.duration," minutes"]}),(0,r.jsx)("h3",{className:"text-xl font-semibold mt-6 mb-2 dark:text-white",children:"Questions:"}),(0,r.jsx)("ul",{className:"space-y-4",children:t.questions.map((e,t)=>(0,r.jsxs)("li",{className:"border-b pb-4",children:[(0,r.jsx)("p",{className:"font-medium dark:text-white",children:e.questionText}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Your answer: ",e.userAnswer]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Correct answer: ",e.correctAnswer]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.isCorrect?"✅ Correct":"❌ Incorrect"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Explanation: ",e.explanation]})]},t))}),(0,r.jsx)(v.z,{onClick:s,className:"mt-4",children:"Close"})]})},z=e=>{let{tests:t,handleTestClick:s,loading:a,selectedTest:l,onCloseDetails:d}=e;return a?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(w.Z,{className:"h-8 w-8 animate-spin text-blue-500"})}):l?(0,r.jsx)("div",{className:"dark:bg-zinc-900 shadow-lg rounded-xl mx-2 sm:mx-10 p-4",children:(0,r.jsx)(C,{test:l,onClose:d})}):t.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,r.jsx)(k,{test:e,onClick:()=>s(e)},e.id))}):(0,r.jsx)("p",{className:"text-center text-xl dark:text-white",children:"No tests found."})},S=()=>{let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(null),[o,x]=(0,a.useState)(!0),{data:m}=(0,d.useSession)(),[u,h]=(0,a.useState)(null),[p,N]=(0,a.useState)({totalTests:0,avgAccuracy:0}),[w,k]=(0,a.useState)({easy:0,medium:0,hard:0}),[C,S]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{var e;if(null==m?void 0:null===(e=m.user)||void 0===e?void 0:e.id){x(!0);let e=await (0,l.HW)(m.user.id),s=await i(m.user.id),r=await (0,l.zQ)(m.user.id);h(s),k(r);let a=e.length,d=e.reduce((e,t)=>e+t.score,0),n=a>0?(d/a).toFixed(2):0;N({totalTests:a,avgAccuracy:n}),t(e),S(T(n)),x(!1)}})()},[m]);let T=e=>[{threshold:100,src:"/medal1.png"},{threshold:80,src:"/medal2.png"},{threshold:60,src:"/medal3.png"},{threshold:40,src:"/medal4.png"},{threshold:0,src:"/medal5.png"}].filter(t=>e>=t.threshold).map(e=>e.src),D=async e=>{x(!0);let t=await (0,l.P7)(e.id,m.user.id);t.success?n(t.data):console.error("Failed to fetch test details:",t.error),x(!1)},A={labels:e.map(e=>new Date(e.date).toLocaleDateString()),datasets:[{label:"Test Scores",data:e.map(e=>e.score),fill:!0,backgroundColor:"rgba(32, 178, 166, 0.2)",borderColor:"rgba(32, 178, 166, 1)",tension:.1,borderWidth:2}]};return(0,r.jsx)("div",{className:"container mx-auto p-4 pb-16 flex flex-col md:flex-row",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)(f,{userDetails:u}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 mt-6",children:[(0,r.jsx)(g,{testSummary:p}),(0,r.jsx)(b,{testStats:w}),(0,r.jsx)(j,{badges:C})]}),(0,r.jsx)(y,{loading:o,chartData:A,chartOptions:{responsive:!0,plugins:{legend:{labels:{color:"#20B2A6"}}},scales:{x:{ticks:{color:"#20B2A6"}},y:{beginAtZero:!0,ticks:{color:"#20B2A6"}}}}}),(0,r.jsxs)("div",{className:"w-full mt-8",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 px-6",children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold dark:text-white",children:"Your Previous Test Results"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mt-4 sm:mt-0",children:[(0,r.jsx)(c.default,{href:"/community",children:(0,r.jsx)(v.z,{className:"bg-white text-black border border-gray-300 hover:bg-gray-100 transition duration-200 w-full sm:w-auto",children:"Available Tests"})}),(0,r.jsx)(c.default,{href:"/test-start",children:(0,r.jsx)(v.z,{className:"bg-black text-white border border-gray-300 hover:bg-gray-800 transition duration-200 w-full sm:w-auto",children:"Create New Test With AI"})})]})]}),(0,r.jsx)(z,{tests:e,handleTestClick:D,loading:o,selectedTest:s,onCloseDetails:()=>{n(null)}})]})]})})}},2200:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var r=s(7437),a=s(2265),l=s(1538),d=s(2218),n=s(8214);let i=(0,d.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:s,variant:a,size:d,asChild:c=!1,...o}=e,x=c?l.g7:"button";return(0,r.jsx)(x,{className:(0,n.cn)(i({variant:a,size:d,className:s})),ref:t,...o})});c.displayName="Button"},8214:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var r=s(4839),a=s(6164);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[674,967,138,998,494,971,23,744],function(){return e(e.s=2129)}),_N_E=e.O()}]);